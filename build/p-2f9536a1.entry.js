import{r as t,h as i,a as s,H as n,c as r,d as o,f as e}from"./p-3b0580b4.js";import{g as h,c as a,a as c}from"./p-909cc088.js";import{c as l,h as u}from"./p-7840618d.js";const d=function(t){var i=new Float32Array(9);return t&&(i[0]=t[0],i[1]=t[1],i[2]=t[2],i[3]=t[3],i[4]=t[4],i[5]=t[5],i[6]=t[6],i[7]=t[7],i[8]=t[8]),i},f={create:function(t){var i=new Float32Array(16);return t&&(i[0]=t[0],i[1]=t[1],i[2]=t[2],i[3]=t[3],i[4]=t[4],i[5]=t[5],i[6]=t[6],i[7]=t[7],i[8]=t[8],i[9]=t[9],i[10]=t[10],i[11]=t[11],i[12]=t[12],i[13]=t[13],i[14]=t[14],i[15]=t[15]),i},set:function(t,i){return i[0]=t[0],i[1]=t[1],i[2]=t[2],i[3]=t[3],i[4]=t[4],i[5]=t[5],i[6]=t[6],i[7]=t[7],i[8]=t[8],i[9]=t[9],i[10]=t[10],i[11]=t[11],i[12]=t[12],i[13]=t[13],i[14]=t[14],i[15]=t[15],i},identity:function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},transpose:function(t,i){if(!i||t==i){var s=t[1],n=t[2],r=t[3],o=t[6],e=t[7],h=t[11];return t[1]=t[4],t[2]=t[8],t[3]=t[12],t[4]=s,t[6]=t[9],t[7]=t[13],t[8]=n,t[9]=o,t[11]=t[14],t[12]=r,t[13]=e,t[14]=h,t}return i[0]=t[0],i[1]=t[4],i[2]=t[8],i[3]=t[12],i[4]=t[1],i[5]=t[5],i[6]=t[9],i[7]=t[13],i[8]=t[2],i[9]=t[6],i[10]=t[10],i[11]=t[14],i[12]=t[3],i[13]=t[7],i[14]=t[11],i[15]=t[15],i},determinant:function(t){var i=t[0],s=t[1],n=t[2],r=t[3],o=t[4],e=t[5],h=t[6],a=t[7],c=t[8],l=t[9],u=t[10],d=t[11],f=t[12],p=t[13],v=t[14],w=t[15];return f*l*h*r-c*p*h*r-f*e*u*r+o*p*u*r+c*e*v*r-o*l*v*r-f*l*n*a+c*p*n*a+f*s*u*a-i*p*u*a-c*s*v*a+i*l*v*a+f*e*n*d-o*p*n*d-f*s*h*d+i*p*h*d+o*s*v*d-i*e*v*d-c*e*n*w+o*l*n*w+c*s*h*w-i*l*h*w-o*s*u*w+i*e*u*w},inverse:function(t,i){i||(i=t);var s=t[0],n=t[1],r=t[2],o=t[3],e=t[4],h=t[5],a=t[6],c=t[7],l=t[8],u=t[9],d=t[10],f=t[11],p=t[12],v=t[13],w=t[14],g=t[15],m=s*h-n*e,y=s*a-r*e,b=s*c-o*e,A=n*a-r*h,x=n*c-o*h,M=r*c-o*a,k=l*v-u*p,S=l*w-d*p,T=l*g-f*p,E=u*w-d*v,j=u*g-f*v,I=d*g-f*w,G=1/(m*I-y*j+b*E+A*T-x*S+M*k);return i[0]=(h*I-a*j+c*E)*G,i[1]=(-n*I+r*j-o*E)*G,i[2]=(v*M-w*x+g*A)*G,i[3]=(-u*M+d*x-f*A)*G,i[4]=(-e*I+a*T-c*S)*G,i[5]=(s*I-r*T+o*S)*G,i[6]=(-p*M+w*b-g*y)*G,i[7]=(l*M-d*b+f*y)*G,i[8]=(e*j-h*T+c*k)*G,i[9]=(-s*j+n*T-o*k)*G,i[10]=(p*x-v*b+g*m)*G,i[11]=(-l*x+u*b-f*m)*G,i[12]=(-e*E+h*S-a*k)*G,i[13]=(s*E-n*S+r*k)*G,i[14]=(-p*A+v*y-w*m)*G,i[15]=(l*A-u*y+d*m)*G,i},toRotationMat:function(t,i){return i||(i=f.create()),i[0]=t[0],i[1]=t[1],i[2]=t[2],i[3]=t[3],i[4]=t[4],i[5]=t[5],i[6]=t[6],i[7]=t[7],i[8]=t[8],i[9]=t[9],i[10]=t[10],i[11]=t[11],i[12]=0,i[13]=0,i[14]=0,i[15]=1,i},toMat3:function(t,i){return i||(i=d()),i[0]=t[0],i[1]=t[1],i[2]=t[2],i[3]=t[4],i[4]=t[5],i[5]=t[6],i[6]=t[8],i[7]=t[9],i[8]=t[10],i},toInverseMat3:function(t,i){var s=t[0],n=t[1],r=t[2],o=t[4],e=t[5],h=t[6],a=t[8],c=t[9],l=t[10],u=l*e-h*c,f=-l*o+h*a,p=c*o-e*a,v=s*u+n*f+r*p;if(!v)return null;var w=1/v;return i||(i=d()),i[0]=u*w,i[1]=(-l*n+r*c)*w,i[2]=(h*n-r*e)*w,i[3]=f*w,i[4]=(l*s-r*a)*w,i[5]=(-h*s+r*o)*w,i[6]=p*w,i[7]=(-c*s+n*a)*w,i[8]=(e*s-n*o)*w,i},multiply:function(t,i,s){s||(s=t);var n=t[0],r=t[1],o=t[2],e=t[3],h=t[4],a=t[5],c=t[6],l=t[7],u=t[8],d=t[9],f=t[10],p=t[11],v=t[12],w=t[13],g=t[14],m=t[15],y=i[0],b=i[1],A=i[2],x=i[3],M=i[4],k=i[5],S=i[6],T=i[7],E=i[8],j=i[9],I=i[10],G=i[11],D=i[12],F=i[13],R=i[14],L=i[15];return s[0]=y*n+b*h+A*u+x*v,s[1]=y*r+b*a+A*d+x*w,s[2]=y*o+b*c+A*f+x*g,s[3]=y*e+b*l+A*p+x*m,s[4]=M*n+k*h+S*u+T*v,s[5]=M*r+k*a+S*d+T*w,s[6]=M*o+k*c+S*f+T*g,s[7]=M*e+k*l+S*p+T*m,s[8]=E*n+j*h+I*u+G*v,s[9]=E*r+j*a+I*d+G*w,s[10]=E*o+j*c+I*f+G*g,s[11]=E*e+j*l+I*p+G*m,s[12]=D*n+F*h+R*u+L*v,s[13]=D*r+F*a+R*d+L*w,s[14]=D*o+F*c+R*f+L*g,s[15]=D*e+F*l+R*p+L*m,s},multiplyVec3:function(t,i,s){s||(s=i);var n=i[0],r=i[1],o=i[2];return s[0]=t[0]*n+t[4]*r+t[8]*o+t[12],s[1]=t[1]*n+t[5]*r+t[9]*o+t[13],s[2]=t[2]*n+t[6]*r+t[10]*o+t[14],s},multiplyVec4:function(t,i,s){s||(s=i);var n=i[0],r=i[1],o=i[2],e=i[3];return s[0]=t[0]*n+t[4]*r+t[8]*o+t[12]*e,s[1]=t[1]*n+t[5]*r+t[9]*o+t[13]*e,s[2]=t[2]*n+t[6]*r+t[10]*o+t[14]*e,s[3]=t[3]*n+t[7]*r+t[11]*o+t[15]*e,s},translate:function(t,i,s){var n=i[0],r=i[1],o=i[2];if(!s||t==s)return t[12]=t[0]*n+t[4]*r+t[8]*o+t[12],t[13]=t[1]*n+t[5]*r+t[9]*o+t[13],t[14]=t[2]*n+t[6]*r+t[10]*o+t[14],t[15]=t[3]*n+t[7]*r+t[11]*o+t[15],t;var e=t[0],h=t[1],a=t[2],c=t[3],l=t[4],u=t[5],d=t[6],f=t[7],p=t[8],v=t[9],w=t[10],g=t[11];return s[0]=e,s[1]=h,s[2]=a,s[3]=c,s[4]=l,s[5]=u,s[6]=d,s[7]=f,s[8]=p,s[9]=v,s[10]=w,s[11]=g,s[12]=e*n+l*r+p*o+t[12],s[13]=h*n+u*r+v*o+t[13],s[14]=a*n+d*r+w*o+t[14],s[15]=c*n+f*r+g*o+t[15],s},scale:function(t,i,s){var n=i[0],r=i[1],o=i[2];return s&&t!=s?(s[0]=t[0]*n,s[1]=t[1]*n,s[2]=t[2]*n,s[3]=t[3]*n,s[4]=t[4]*r,s[5]=t[5]*r,s[6]=t[6]*r,s[7]=t[7]*r,s[8]=t[8]*o,s[9]=t[9]*o,s[10]=t[10]*o,s[11]=t[11]*o,s[12]=t[12],s[13]=t[13],s[14]=t[14],s[15]=t[15],s):(t[0]*=n,t[1]*=n,t[2]*=n,t[3]*=n,t[4]*=r,t[5]*=r,t[6]*=r,t[7]*=r,t[8]*=o,t[9]*=o,t[10]*=o,t[11]*=o,t)},rotate:function(t,i,s,n){var r=s[0],o=s[1],e=s[2],h=Math.sqrt(r*r+o*o+e*e);if(!h)return null;1!=h&&(r*=h=1/h,o*=h,e*=h);var a=Math.sin(i),c=Math.cos(i),l=1-c,u=t[0],d=t[1],f=t[2],p=t[3],v=t[4],w=t[5],g=t[6],m=t[7],y=t[8],b=t[9],A=t[10],x=t[11],M=r*r*l+c,k=o*r*l+e*a,S=e*r*l-o*a,T=r*o*l-e*a,E=o*o*l+c,j=e*o*l+r*a,I=r*e*l+o*a,G=o*e*l-r*a,D=e*e*l+c;return n?t!=n&&(n[12]=t[12],n[13]=t[13],n[14]=t[14],n[15]=t[15]):n=t,n[0]=u*M+v*k+y*S,n[1]=d*M+w*k+b*S,n[2]=f*M+g*k+A*S,n[3]=p*M+m*k+x*S,n[4]=u*T+v*E+y*j,n[5]=d*T+w*E+b*j,n[6]=f*T+g*E+A*j,n[7]=p*T+m*E+x*j,n[8]=u*I+v*G+y*D,n[9]=d*I+w*G+b*D,n[10]=f*I+g*G+A*D,n[11]=p*I+m*G+x*D,n},rotateX:function(t,i,s){var n=Math.sin(i),r=Math.cos(i),o=t[4],e=t[5],h=t[6],a=t[7],c=t[8],l=t[9],u=t[10],d=t[11];return s?t!=s&&(s[0]=t[0],s[1]=t[1],s[2]=t[2],s[3]=t[3],s[12]=t[12],s[13]=t[13],s[14]=t[14],s[15]=t[15]):s=t,s[4]=o*r+c*n,s[5]=e*r+l*n,s[6]=h*r+u*n,s[7]=a*r+d*n,s[8]=o*-n+c*r,s[9]=e*-n+l*r,s[10]=h*-n+u*r,s[11]=a*-n+d*r,s},rotateY:function(t,i,s){var n=Math.sin(i),r=Math.cos(i),o=t[0],e=t[1],h=t[2],a=t[3],c=t[8],l=t[9],u=t[10],d=t[11];return s?t!=s&&(s[4]=t[4],s[5]=t[5],s[6]=t[6],s[7]=t[7],s[12]=t[12],s[13]=t[13],s[14]=t[14],s[15]=t[15]):s=t,s[0]=o*r+c*-n,s[1]=e*r+l*-n,s[2]=h*r+u*-n,s[3]=a*r+d*-n,s[8]=o*n+c*r,s[9]=e*n+l*r,s[10]=h*n+u*r,s[11]=a*n+d*r,s},rotateZ:function(t,i,s){var n=Math.sin(i),r=Math.cos(i),o=t[0],e=t[1],h=t[2],a=t[3],c=t[4],l=t[5],u=t[6],d=t[7];return s?t!=s&&(s[8]=t[8],s[9]=t[9],s[10]=t[10],s[11]=t[11],s[12]=t[12],s[13]=t[13],s[14]=t[14],s[15]=t[15]):s=t,s[0]=o*r+c*n,s[1]=e*r+l*n,s[2]=h*r+u*n,s[3]=a*r+d*n,s[4]=o*-n+c*r,s[5]=e*-n+l*r,s[6]=h*-n+u*r,s[7]=a*-n+d*r,s},frustum:function(t,i,s,n,r,o,e){e||(e=f.create());var h=i-t,a=n-s,c=o-r;return e[0]=2*r/h,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=2*r/a,e[6]=0,e[7]=0,e[8]=(i+t)/h,e[9]=(n+s)/a,e[10]=-(o+r)/c,e[11]=-1,e[12]=0,e[13]=0,e[14]=-o*r*2/c,e[15]=0,e},perspective:function(t,i,s,n,r){var o=s*Math.tan(t*Math.PI/360),e=o*i;return f.frustum(-e,e,-o,o,s,n,r)},ortho:function(t,i,s,n,r,o,e){e||(e=f.create());var h=i-t,a=n-s,c=o-r;return e[0]=2/h,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=2/a,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=-2/c,e[11]=0,e[12]=-(t+i)/h,e[13]=-(n+s)/a,e[14]=-(o+r)/c,e[15]=1,e},lookAt:function(t,i,s,n){n||(n=f.create());var r,o,e,h,a,c,l,u,d,p,v=t[0],w=t[1],g=t[2],m=s[0],y=s[1],b=s[2];return v==i[0]&&w==i[1]&&g==i[2]?f.identity(n):(r=v-i[0],o=w-i[1],e=g-i[2],h=y*(e*=p=1/Math.sqrt(r*r+o*o+e*e))-b*(o*=p),a=b*(r*=p)-m*e,c=m*o-y*r,(p=Math.sqrt(h*h+a*a+c*c))?(h*=p=1/p,a*=p,c*=p):(h=0,a=0,c=0),l=o*c-e*a,u=e*h-r*c,d=r*a-o*h,(p=Math.sqrt(l*l+u*u+d*d))?(l*=p=1/p,u*=p,d*=p):(l=0,u=0,d=0),n[0]=h,n[1]=l,n[2]=r,n[3]=0,n[4]=a,n[5]=u,n[6]=o,n[7]=0,n[8]=c,n[9]=d,n[10]=e,n[11]=0,n[12]=-(h*v+a*w+c*g),n[13]=-(l*v+u*w+d*g),n[14]=-(r*v+o*w+e*g),n[15]=1,n)},str:function(t){return"["+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+", "+t[9]+", "+t[10]+", "+t[11]+", "+t[12]+", "+t[13]+", "+t[14]+", "+t[15]+"]"}},p=f.create(new Float32Array([1,0,0,0,0,0,1,0,-3,3,-2,-1,2,-2,1,1])),v=f.create(new Float32Array([1,0,0,0,-3,3,0,0,3,-6,3,0,-1,3,-3,1])),w=(t,i,s)=>{const n=(h=new Float32Array(4),o&&(h[0]=o[0],h[1]=o[1],h[2]=o[2],h[3]=o.length>3?o[3]:e),h),r=new Array(i);var o,e,h;if(s.length!==n.length)throw new Error("插值点错误");let a=1/i;for(let o=0;o<=i;o++){const i=(c=o*a,new Float32Array([1,c,c*c,c*c*c]));f.multiplyVec4(t,i,n),r[o]=g(n,s)}var c;return r},g=(t,i)=>{if(t.length!==i.length)throw new Error("向量长度不一致");const s=new Array(t.length);for(let n=0;n<t.length;n++){const r=i[n].length;s[n]=new Array(r);for(let o=0;o<r;o++)s[n][o]=i[n][o]*t[n]}return s.reduce(((t,i)=>t.map(((t,s)=>t+i[s]))))},m=function(t){var i=new Float32Array(3);return t&&(i[0]=t[0],i[1]=t[1],i[2]=t[2]),i},y=function(t,i){i||(i=t);var s=t[0],n=t[1],r=t[2],o=Math.sqrt(s*s+n*n+r*r);return o?1==o?(i[0]=s,i[1]=n,i[2]=r,i):(i[0]=s*(o=1/o),i[1]=n*o,i[2]=r*o,i):(i[0]=0,i[1]=0,i[2]=0,i)},b=function(t){var i=new Float32Array(9);return t&&(i[0]=t[0],i[1]=t[1],i[2]=t[2],i[3]=t[3],i[4]=t[4],i[5]=t[5],i[6]=t[6],i[7]=t[7],i[8]=t[8]),i},A={create:function(t){var i=new Float32Array(16);return t&&(i[0]=t[0],i[1]=t[1],i[2]=t[2],i[3]=t[3],i[4]=t[4],i[5]=t[5],i[6]=t[6],i[7]=t[7],i[8]=t[8],i[9]=t[9],i[10]=t[10],i[11]=t[11],i[12]=t[12],i[13]=t[13],i[14]=t[14],i[15]=t[15]),i},set:function(t,i){return i[0]=t[0],i[1]=t[1],i[2]=t[2],i[3]=t[3],i[4]=t[4],i[5]=t[5],i[6]=t[6],i[7]=t[7],i[8]=t[8],i[9]=t[9],i[10]=t[10],i[11]=t[11],i[12]=t[12],i[13]=t[13],i[14]=t[14],i[15]=t[15],i},identity:function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},transpose:function(t,i){if(!i||t==i){var s=t[1],n=t[2],r=t[3],o=t[6],e=t[7],h=t[11];return t[1]=t[4],t[2]=t[8],t[3]=t[12],t[4]=s,t[6]=t[9],t[7]=t[13],t[8]=n,t[9]=o,t[11]=t[14],t[12]=r,t[13]=e,t[14]=h,t}return i[0]=t[0],i[1]=t[4],i[2]=t[8],i[3]=t[12],i[4]=t[1],i[5]=t[5],i[6]=t[9],i[7]=t[13],i[8]=t[2],i[9]=t[6],i[10]=t[10],i[11]=t[14],i[12]=t[3],i[13]=t[7],i[14]=t[11],i[15]=t[15],i},determinant:function(t){var i=t[0],s=t[1],n=t[2],r=t[3],o=t[4],e=t[5],h=t[6],a=t[7],c=t[8],l=t[9],u=t[10],d=t[11],f=t[12],p=t[13],v=t[14],w=t[15];return f*l*h*r-c*p*h*r-f*e*u*r+o*p*u*r+c*e*v*r-o*l*v*r-f*l*n*a+c*p*n*a+f*s*u*a-i*p*u*a-c*s*v*a+i*l*v*a+f*e*n*d-o*p*n*d-f*s*h*d+i*p*h*d+o*s*v*d-i*e*v*d-c*e*n*w+o*l*n*w+c*s*h*w-i*l*h*w-o*s*u*w+i*e*u*w},inverse:function(t,i){i||(i=t);var s=t[0],n=t[1],r=t[2],o=t[3],e=t[4],h=t[5],a=t[6],c=t[7],l=t[8],u=t[9],d=t[10],f=t[11],p=t[12],v=t[13],w=t[14],g=t[15],m=s*h-n*e,y=s*a-r*e,b=s*c-o*e,A=n*a-r*h,x=n*c-o*h,M=r*c-o*a,k=l*v-u*p,S=l*w-d*p,T=l*g-f*p,E=u*w-d*v,j=u*g-f*v,I=d*g-f*w,G=1/(m*I-y*j+b*E+A*T-x*S+M*k);return i[0]=(h*I-a*j+c*E)*G,i[1]=(-n*I+r*j-o*E)*G,i[2]=(v*M-w*x+g*A)*G,i[3]=(-u*M+d*x-f*A)*G,i[4]=(-e*I+a*T-c*S)*G,i[5]=(s*I-r*T+o*S)*G,i[6]=(-p*M+w*b-g*y)*G,i[7]=(l*M-d*b+f*y)*G,i[8]=(e*j-h*T+c*k)*G,i[9]=(-s*j+n*T-o*k)*G,i[10]=(p*x-v*b+g*m)*G,i[11]=(-l*x+u*b-f*m)*G,i[12]=(-e*E+h*S-a*k)*G,i[13]=(s*E-n*S+r*k)*G,i[14]=(-p*A+v*y-w*m)*G,i[15]=(l*A-u*y+d*m)*G,i},toRotationMat:function(t,i){return i||(i=A.create()),i[0]=t[0],i[1]=t[1],i[2]=t[2],i[3]=t[3],i[4]=t[4],i[5]=t[5],i[6]=t[6],i[7]=t[7],i[8]=t[8],i[9]=t[9],i[10]=t[10],i[11]=t[11],i[12]=0,i[13]=0,i[14]=0,i[15]=1,i},toMat3:function(t,i){return i||(i=b()),i[0]=t[0],i[1]=t[1],i[2]=t[2],i[3]=t[4],i[4]=t[5],i[5]=t[6],i[6]=t[8],i[7]=t[9],i[8]=t[10],i},toInverseMat3:function(t,i){var s=t[0],n=t[1],r=t[2],o=t[4],e=t[5],h=t[6],a=t[8],c=t[9],l=t[10],u=l*e-h*c,d=-l*o+h*a,f=c*o-e*a,p=s*u+n*d+r*f;if(!p)return null;var v=1/p;return i||(i=b()),i[0]=u*v,i[1]=(-l*n+r*c)*v,i[2]=(h*n-r*e)*v,i[3]=d*v,i[4]=(l*s-r*a)*v,i[5]=(-h*s+r*o)*v,i[6]=f*v,i[7]=(-c*s+n*a)*v,i[8]=(e*s-n*o)*v,i},multiply:function(t,i,s){s||(s=t);var n=t[0],r=t[1],o=t[2],e=t[3],h=t[4],a=t[5],c=t[6],l=t[7],u=t[8],d=t[9],f=t[10],p=t[11],v=t[12],w=t[13],g=t[14],m=t[15],y=i[0],b=i[1],A=i[2],x=i[3],M=i[4],k=i[5],S=i[6],T=i[7],E=i[8],j=i[9],I=i[10],G=i[11],D=i[12],F=i[13],R=i[14],L=i[15];return s[0]=y*n+b*h+A*u+x*v,s[1]=y*r+b*a+A*d+x*w,s[2]=y*o+b*c+A*f+x*g,s[3]=y*e+b*l+A*p+x*m,s[4]=M*n+k*h+S*u+T*v,s[5]=M*r+k*a+S*d+T*w,s[6]=M*o+k*c+S*f+T*g,s[7]=M*e+k*l+S*p+T*m,s[8]=E*n+j*h+I*u+G*v,s[9]=E*r+j*a+I*d+G*w,s[10]=E*o+j*c+I*f+G*g,s[11]=E*e+j*l+I*p+G*m,s[12]=D*n+F*h+R*u+L*v,s[13]=D*r+F*a+R*d+L*w,s[14]=D*o+F*c+R*f+L*g,s[15]=D*e+F*l+R*p+L*m,s},multiplyVec3:function(t,i,s){s||(s=i);var n=i[0],r=i[1],o=i[2];return s[0]=t[0]*n+t[4]*r+t[8]*o+t[12],s[1]=t[1]*n+t[5]*r+t[9]*o+t[13],s[2]=t[2]*n+t[6]*r+t[10]*o+t[14],s},multiplyVec4:function(t,i,s){s||(s=i);var n=i[0],r=i[1],o=i[2],e=i[3];return s[0]=t[0]*n+t[4]*r+t[8]*o+t[12]*e,s[1]=t[1]*n+t[5]*r+t[9]*o+t[13]*e,s[2]=t[2]*n+t[6]*r+t[10]*o+t[14]*e,s[3]=t[3]*n+t[7]*r+t[11]*o+t[15]*e,s},translate:function(t,i,s){var n=i[0],r=i[1],o=i[2];if(!s||t==s)return t[12]=t[0]*n+t[4]*r+t[8]*o+t[12],t[13]=t[1]*n+t[5]*r+t[9]*o+t[13],t[14]=t[2]*n+t[6]*r+t[10]*o+t[14],t[15]=t[3]*n+t[7]*r+t[11]*o+t[15],t;var e=t[0],h=t[1],a=t[2],c=t[3],l=t[4],u=t[5],d=t[6],f=t[7],p=t[8],v=t[9],w=t[10],g=t[11];return s[0]=e,s[1]=h,s[2]=a,s[3]=c,s[4]=l,s[5]=u,s[6]=d,s[7]=f,s[8]=p,s[9]=v,s[10]=w,s[11]=g,s[12]=e*n+l*r+p*o+t[12],s[13]=h*n+u*r+v*o+t[13],s[14]=a*n+d*r+w*o+t[14],s[15]=c*n+f*r+g*o+t[15],s},scale:function(t,i,s){var n=i[0],r=i[1],o=i[2];return s&&t!=s?(s[0]=t[0]*n,s[1]=t[1]*n,s[2]=t[2]*n,s[3]=t[3]*n,s[4]=t[4]*r,s[5]=t[5]*r,s[6]=t[6]*r,s[7]=t[7]*r,s[8]=t[8]*o,s[9]=t[9]*o,s[10]=t[10]*o,s[11]=t[11]*o,s[12]=t[12],s[13]=t[13],s[14]=t[14],s[15]=t[15],s):(t[0]*=n,t[1]*=n,t[2]*=n,t[3]*=n,t[4]*=r,t[5]*=r,t[6]*=r,t[7]*=r,t[8]*=o,t[9]*=o,t[10]*=o,t[11]*=o,t)},rotate:function(t,i,s,n){var r=s[0],o=s[1],e=s[2],h=Math.sqrt(r*r+o*o+e*e);if(!h)return null;1!=h&&(r*=h=1/h,o*=h,e*=h);var a=Math.sin(i),c=Math.cos(i),l=1-c,u=t[0],d=t[1],f=t[2],p=t[3],v=t[4],w=t[5],g=t[6],m=t[7],y=t[8],b=t[9],A=t[10],x=t[11],M=r*r*l+c,k=o*r*l+e*a,S=e*r*l-o*a,T=r*o*l-e*a,E=o*o*l+c,j=e*o*l+r*a,I=r*e*l+o*a,G=o*e*l-r*a,D=e*e*l+c;return n?t!=n&&(n[12]=t[12],n[13]=t[13],n[14]=t[14],n[15]=t[15]):n=t,n[0]=u*M+v*k+y*S,n[1]=d*M+w*k+b*S,n[2]=f*M+g*k+A*S,n[3]=p*M+m*k+x*S,n[4]=u*T+v*E+y*j,n[5]=d*T+w*E+b*j,n[6]=f*T+g*E+A*j,n[7]=p*T+m*E+x*j,n[8]=u*I+v*G+y*D,n[9]=d*I+w*G+b*D,n[10]=f*I+g*G+A*D,n[11]=p*I+m*G+x*D,n},rotateX:function(t,i,s){var n=Math.sin(i),r=Math.cos(i),o=t[4],e=t[5],h=t[6],a=t[7],c=t[8],l=t[9],u=t[10],d=t[11];return s?t!=s&&(s[0]=t[0],s[1]=t[1],s[2]=t[2],s[3]=t[3],s[12]=t[12],s[13]=t[13],s[14]=t[14],s[15]=t[15]):s=t,s[4]=o*r+c*n,s[5]=e*r+l*n,s[6]=h*r+u*n,s[7]=a*r+d*n,s[8]=o*-n+c*r,s[9]=e*-n+l*r,s[10]=h*-n+u*r,s[11]=a*-n+d*r,s},rotateY:function(t,i,s){var n=Math.sin(i),r=Math.cos(i),o=t[0],e=t[1],h=t[2],a=t[3],c=t[8],l=t[9],u=t[10],d=t[11];return s?t!=s&&(s[4]=t[4],s[5]=t[5],s[6]=t[6],s[7]=t[7],s[12]=t[12],s[13]=t[13],s[14]=t[14],s[15]=t[15]):s=t,s[0]=o*r+c*-n,s[1]=e*r+l*-n,s[2]=h*r+u*-n,s[3]=a*r+d*-n,s[8]=o*n+c*r,s[9]=e*n+l*r,s[10]=h*n+u*r,s[11]=a*n+d*r,s},rotateZ:function(t,i,s){var n=Math.sin(i),r=Math.cos(i),o=t[0],e=t[1],h=t[2],a=t[3],c=t[4],l=t[5],u=t[6],d=t[7];return s?t!=s&&(s[8]=t[8],s[9]=t[9],s[10]=t[10],s[11]=t[11],s[12]=t[12],s[13]=t[13],s[14]=t[14],s[15]=t[15]):s=t,s[0]=o*r+c*n,s[1]=e*r+l*n,s[2]=h*r+u*n,s[3]=a*r+d*n,s[4]=o*-n+c*r,s[5]=e*-n+l*r,s[6]=h*-n+u*r,s[7]=a*-n+d*r,s},frustum:function(t,i,s,n,r,o,e){e||(e=A.create());var h=i-t,a=n-s,c=o-r;return e[0]=2*r/h,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=2*r/a,e[6]=0,e[7]=0,e[8]=(i+t)/h,e[9]=(n+s)/a,e[10]=-(o+r)/c,e[11]=-1,e[12]=0,e[13]=0,e[14]=-o*r*2/c,e[15]=0,e},perspective:function(t,i,s,n,r){var o=s*Math.tan(t*Math.PI/360),e=o*i;return A.frustum(-e,e,-o,o,s,n,r)},ortho:function(t,i,s,n,r,o,e){e||(e=A.create());var h=i-t,a=n-s,c=o-r;return e[0]=2/h,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=2/a,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=-2/c,e[11]=0,e[12]=-(t+i)/h,e[13]=-(n+s)/a,e[14]=-(o+r)/c,e[15]=1,e},lookAt:function(t,i,s,n){n||(n=A.create());var r,o,e,h,a,c,l,u,d,f,p=t[0],v=t[1],w=t[2],g=s[0],m=s[1],y=s[2];return p==i[0]&&v==i[1]&&w==i[2]?A.identity(n):(r=p-i[0],o=v-i[1],e=w-i[2],h=m*(e*=f=1/Math.sqrt(r*r+o*o+e*e))-y*(o*=f),a=y*(r*=f)-g*e,c=g*o-m*r,(f=Math.sqrt(h*h+a*a+c*c))?(h*=f=1/f,a*=f,c*=f):(h=0,a=0,c=0),l=o*c-e*a,u=e*h-r*c,d=r*a-o*h,(f=Math.sqrt(l*l+u*u+d*d))?(l*=f=1/f,u*=f,d*=f):(l=0,u=0,d=0),n[0]=h,n[1]=l,n[2]=r,n[3]=0,n[4]=a,n[5]=u,n[6]=o,n[7]=0,n[8]=c,n[9]=d,n[10]=e,n[11]=0,n[12]=-(h*p+a*v+c*w),n[13]=-(l*p+u*v+d*w),n[14]=-(r*p+o*v+e*w),n[15]=1,n)},str:function(t){return"["+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+", "+t[9]+", "+t[10]+", "+t[11]+", "+t[12]+", "+t[13]+", "+t[14]+", "+t[15]+"]"}},x=(t,i)=>({uniform:(i,s)=>{t(i,s)},value:i}),M=t=>x(((i,s)=>{s.uniformMatrix4fv(i,!1,t)}),t),k=t=>x(((i,s)=>{s.uniform3fv(i,t)}),t);class S{constructor(t,i){this.unit=-1,this.source=t,this.gl=i,this.texture=this.gl.createTexture(),this.bindTexture(),i.pixelStorei(i.UNPACK_FLIP_Y_WEBGL,!0),i.texImage2D(i.TEXTURE_2D,0,i.RGBA,i.RGBA,i.UNSIGNED_BYTE,t),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MAG_FILTER,i.LINEAR),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MIN_FILTER,i.LINEAR_MIPMAP_LINEAR),i.generateMipmap(i.TEXTURE_2D)}bindTexture(t){void 0!==t&&(this.gl.activeTexture(this.gl.TEXTURE0+t),this.unit=t),this.gl.bindTexture(this.gl.TEXTURE_2D,this.texture)}unbindTexture(){this.gl.activeTexture(this.gl.TEXTURE0+this.unit),this.gl.bindTexture(this.gl.TEXTURE_2D,null)}uniform(t){this.gl.uniform1i(t,this.unit)}}class T{constructor(t,i,s,n){this.unit=-1,this.width=i,this.height=s,this.gl=t,this.frameBuffer=t.createFramebuffer(),t.bindFramebuffer(t.FRAMEBUFFER,this.frameBuffer),this.texture=t.createTexture(),t.bindTexture(t.TEXTURE_2D,this.texture),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,i,s,0,t.RGBA,n||t.UNSIGNED_BYTE,null),t.generateMipmap(t.TEXTURE_2D),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),this.depth=t.createRenderbuffer(),t.bindRenderbuffer(t.RENDERBUFFER,this.depth),t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_COMPONENT16,i,s),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,this.texture,0),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.RENDERBUFFER,this.depth),t.bindTexture(t.TEXTURE_2D,null),t.bindRenderbuffer(t.RENDERBUFFER,null),t.bindFramebuffer(t.FRAMEBUFFER,null)}bind(){this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,this.frameBuffer),this.gl.viewport(0,0,this.width,this.height)}unbind(){this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,null)}bindTexture(t){void 0!==t&&(this.gl.activeTexture(this.gl.TEXTURE0+t),this.unit=t),this.gl.bindTexture(this.gl.TEXTURE_2D,this.texture)}unbindTexture(){this.gl.activeTexture(this.gl.TEXTURE0+this.unit),this.gl.bindTexture(this.gl.TEXTURE_2D,null)}uniform(t){this.gl.uniform1i(t,this.unit)}}class E extends class{constructor(t,i){this.gl=i,this.buffer=this.gl.createBuffer(),this.bind(),this.length=t.length,this.gl.bufferData(this.gl.ARRAY_BUFFER,t,this.gl.STATIC_DRAW),this.unbind()}bind(){this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.buffer)}unbind(){this.gl.bindBuffer(this.gl.ARRAY_BUFFER,null)}}{constructor(t,i){super(t,i)}drawTriangles(){for(let t=0;t<this.length;t+=3)this.gl.drawArrays(this.gl.LINE_LOOP,t,3)}}class j{constructor(t=[]){this.children=[],this.children=t}visit(t,i,s){this.enter(t,i,s);for(let n=0;n<this.children.length;n++)this.children[n].visit(t,i,s);this.exit(t,i,s)}exit(t,i,s){}append(t){this.children.push(t)}enter(t,i,s){}}class I{constructor(){this.uniforms={},this.shaders=[],this.textureUnit=0,this.viewport={x:0,y:0,width:640,height:480},this.root=new j}append(t){this.root.append(t)}draw(t,i){i.viewport(this.viewport.x,this.viewport.y,this.viewport.width,this.viewport.height),i.clearColor(0,0,0,1),i.clearDepth(1),i.clear(i.COLOR_BUFFER_BIT|i.DEPTH_BUFFER_BIT),this.root.visit(this,t,i)}pushUniforms(){this.uniforms=Object.create(this.uniforms)}popUniforms(){this.uniforms=Object.getPrototypeOf(this.uniforms)}pushTextura(){return this.textureUnit++}popTextura(){this.textureUnit--}pushShader(t){this.shaders.push(t)}popShader(){this.shaders.pop()}getShader(){return this.shaders[this.shaders.length-1]}}class G extends j{constructor(t,i,s){super(),this.children=[],this.shader=t,this.uniforms=i,this.children=s}enter(t){t.pushShader(this.shader),this.shader.use(),L.prototype.enter.call(this,t)}exit(t){t.popShader(),L.prototype.exit.call(this,t)}}class D{constructor(){this.x=0,this.y=0,this.near=.5,this.far=5e3,this.fov=50,this.position=m([0,0,0])}use(t){const i=new Float32Array(this.position),s=this.getProjection(),n=this.getWorldView(),r=A.create();A.multiply(s,n,r),t.uniforms.projection=M(r),t.uniforms.eye=k(i)}setProjection(t,i){this.near=t,this.far=i}project(t){const i=A.create();A.multiply(this.getProjection(),this.getWorldView(),i);const s=A.multiplyVec4(i,t,(o=new Float32Array(4),n&&(o[0]=n[0],o[1]=n[1],o[2]=n[2],o[3]=n.length>3?n[3]:r),o));var n,r,o;return function(t,i,s){s&&t!=s?(s[0]=t[0]*i,s[1]=t[1]*i,s[2]=t[2]*i,s[3]=t[3]*i):(t[0]*=i,t[1]*=i,t[2]*=i,t[3]*=i)}(s,1/s[3]),s}getInverseRotation(){return t=A.toInverseMat3(this.getWorldView()),i||(i=A.create()),i[0]=t[0],i[1]=t[1],i[2]=t[2],i[3]=0,i[4]=t[3],i[5]=t[4],i[6]=t[5],i[7]=0,i[8]=t[6],i[9]=t[7],i[10]=t[8],i[11]=0,i[12]=0,i[13]=0,i[14]=0,i[15]=1,i;var t,i}getProjection(){return A.perspective(this.fov,1,this.near,this.far)}getWorldView(){const t=new Float32Array(this.position),i=A.identity(A.create());return A.rotateX(i,this.x),A.rotateY(i,this.y),A.translate(i,(s=t,(n=m())||(n=s),n[0]=-s[0],n[1]=-s[1],n[2]=-s[2],n)),i;var s,n}}class F extends j{constructor(t){super(),this.bufferGeometry=t}visit(t,i,s){const n=t.getShader();n.uniforms(t.uniforms);for(const t of Object.keys(this.bufferGeometry)){const i=this.bufferGeometry[t];i.bind();const r=n.getAttribLocation(t);s.vertexAttribPointer(r,3,s.FLOAT,!1,0,0),s.enableVertexAttribArray(r),i instanceof E&&i.drawTriangles()}for(const t of Object.keys(this.bufferGeometry))this.bufferGeometry[t].unbind()}}class R extends j{constructor(t){super(),this.children=[],this.wordMatrix=A.create(),this.aux=A.create(),this.children=t,A.identity(this.wordMatrix)}enter(t,i,s){t.pushUniforms(),t.uniforms.modelTransform?(A.multiply(t.uniforms.modelTransform.value,this.wordMatrix,this.aux),t.uniforms.modelTransform=M(this.aux)):t.uniforms.modelTransform=M(this.wordMatrix)}exit(t,i,s){t.popUniforms()}}class L extends j{constructor(t,i){super(),this.uniforms=t,this.children=i}enter(t){t.pushUniforms();for(let i in this.uniforms){const s=this.uniforms[i];(s instanceof S||s instanceof T)&&s.bindTexture(t.pushTextura()),t.uniforms[i]=s}}exit(t){for(let i in this.uniforms){const s=this.uniforms[i];(s instanceof S||s instanceof T)&&(s.unbindTexture(),t.popTextura())}t.popUniforms()}}const C={32:"SPACE",13:"ENTER",9:"TAB",8:"BACKSPACE",16:"SHIFT",17:"CTRL",18:"ALT",20:"CAPS_LOCK",144:"NUM_LOCK",145:"SCROLL_LOCK",37:"LEFT",38:"UP",39:"RIGHT",40:"DOWN",33:"PAGE_UP",34:"PAGE_DOWN",36:"HOME",35:"END",45:"INSERT",46:"DELETE",27:"ESCAPE",19:"PAUSE"},Y=(t,i,s)=>t<i?i:t>s?s:t,Z=t=>{if(t){const i=t.changedTouches;if(i&&i.length>0){const t=i[0];return{x:t.clientX,y:t.clientY}}if(void 0!==t.pageX)return{x:t.pageX,y:t.pageY}}return{x:0,y:0}};class P{constructor(t){this.input=t}tick(t){const{x:i,y:s}=this.input.getOffsetFromElementCenter();t.y+=1e-4*i,t.x+=1e-4*s;const n=t.getInverseRotation(),r=m();var o,e,h;this.input.keys.W?r[2]=-1:this.input.keys.S&&(r[2]=1),this.input.keys.A?r[0]=-1:this.input.keys.D&&(r[0]=1),y(r),A.multiplyVec3(n,r),o=t.position,e=r,h&&o!=h?(h[0]=o[0]+e[0],h[1]=o[1]+e[1],h[2]=o[2]+e[2]):(o[0]+=e[0],o[1]+=e[1],o[2]+=e[2])}}class N{constructor(t){this.keys={},this.mouse={down:!1,x:0,y:0},this.onClick=void 0,this.onKeyUp=void 0,this.onKeyDown=void 0,this.width=0,this.height=0,this.hasFocus=!0,this.element=void 0,this.focus=()=>{this.hasFocus||(this.hasFocus=!0,this.reset())},this.blur=()=>{this.hasFocus=!1,this.reset()},this.mouseMove=(t,i)=>{if(!this.mouse.down)return;const s=this.element.getBoundingClientRect();this.mouse.x=Y(t-s.left,0,this.element.width),this.mouse.y=Y(i-s.top,0,this.element.height)},this.mouseDown=(t,i)=>{this.mouse.down=!0;const s=this.element.getBoundingClientRect();this.mouse.x=Y(t-s.left,0,this.element.width),this.mouse.y=Y(i-s.top,0,this.element.height)},this.mouseUp=()=>{this.mouse.down=!1,this.hasFocus&&this.onClick&&this.onClick(this.mouse.x,this.mouse.y)},this.keyDown=t=>{const i=this.getKeyName(t),s=this.keys[i];return this.keys[i]=!0,this.onKeyDown&&!s&&this.onKeyDown(i),this.hasFocus},this.keyUp=t=>{var i=this.getKeyName(t);return this.keys[i]=!1,this.onKeyUp&&this.onKeyUp(i),this.hasFocus},this.reset=()=>{this.keys={};for(let t=65;t<128;t++)this.keys[String.fromCharCode(t)]=!1;for(let t in C)this.keys[C[t]]=!1;this.mouse={down:!1,x:0,y:0}},this.getKeyName=t=>C[t]||String.fromCharCode(t),this.element=t,this.bind(t),this.reset()}bind(t){t&&(this.element=t,document.onkeydown=t=>this.keyDown(t.keyCode),document.onkeyup=t=>this.keyUp(t.keyCode),window.onclick=i=>{i.target===t?focus():blur()},this.element.onmousedown=t=>{const{x:i,y:s}=Z(t);this.mouseDown(i,s)},this.element.ontouchstart=t=>{const{x:i,y:s}=Z(t);this.mouseDown(i,s)},document.ontouchmove=t=>{const{x:i,y:s}=Z(t);this.mouseMove(i,s)},document.onmousemove=t=>{const{x:i,y:s}=Z(t);this.mouseMove(i,s)},document.ontouchend=this.mouseUp,document.ontouchcancel=this.mouseUp,document.onmouseup=this.mouseUp)}getOffsetFromElementCenter(){return this.element&&this.mouse.down?{x:this.mouse.x-.5*this.element.width,y:this.mouse.y-.5*this.element.height}:{x:0,y:0}}}class O{constructor(){this.isRunning=!1,this.timerId=null}start(){if(this.isRunning)return;this.isRunning=!0,this.now=(new Date).getTime(),this.loopFunc=window.requestAnimationFrame.bind(window)||(t=>{this.timerId=setTimeout(t,16)});const t=i=>{this.isRunning&&(this.tick(i),this.loopFunc(t))};this.loopFunc(t)}stop(){this.isRunning=!1,this.timerId&&(clearTimeout(this.timerId),this.timerId=null)}tick(t){this.onTick&&this.onTick((t-this.now)/1e3),this.now=t}setAnimationLoop(t){this.onTick=t}}class U{constructor(){this.clock=new O,this.domElement=document.createElement("canvas"),this.gl=this.domElement.getContext("webgl2"),this.gl.enable(this.gl.DEPTH_TEST),this.inputHandler=new N(this.domElement),this.cameraController=new P(this.inputHandler)}start(){this.clock.start()}stop(){this.clock.isRunning&&this.clock.stop()}getGLRenderContext(){return this.gl}setAnimationLoop(t){this.clock.setAnimationLoop(t)}render(t,i){this.cameraController.tick(i),i.use(t),t.draw(i,this.gl)}}class z{constructor(t){this.resources={},this.pendingStatus={total:0,pending:0,failed:0},this.loadImage=t=>{const i=document.createElement("img");i.src=this.rootPath+t,i.onload=()=>{this.success(t,i)},i.onerror=()=>{this.error(t,i)}},this.loadJSON=t=>{fetch(this.rootPath+t).then((async t=>t.json())).then((i=>this.success(t,i))).catch((i=>{this.error(t,i)}))},this.loadData=t=>{fetch(this.rootPath+t).then((async t=>t.text())).then((i=>{this.success(t,i)})).catch((i=>{this.error(t,i)}))},this.success=(t,i)=>{this.resources[t]=i,this.pendingStatus.pending--,0===this.pendingStatus.pending&&this.onRendy&&this.onRendy()},this.error=(t,i)=>{throw this.pendingStatus.pending--,this.pendingStatus.failed++,this.resources[t]=null,"string"!=typeof i&&(i.path=t),i},this.rootPath=t}load(t){for(let i=0;i<t.length;i++){const s=t[i];s in t||(this.pendingStatus.pending++,this.pendingStatus.total++,/\.(jpe?g|gif|png)$/.test(s)?this.loadImage(s):/\.json$/.test(s)?this.loadJSON(s):this.loadData(s))}setTimeout((()=>{0===this.pendingStatus.pending&&this.onRendy&&this.onRendy()}),1)}setOnRendy(t){this.onRendy=t}}const Q=(t,i,s)=>{const n=t.createShader(i);if(t.shaderSource(n,s),t.compileShader(n),!t.getShaderParameter(n,t.COMPILE_STATUS))throw console.warn(t.getShaderInfoLog(n),i,s),'Compiler exception: "'+t.getShaderInfoLog(n)+'"';return n};class B{constructor(t,i,s){this.uniformLocations={},this.gl=t,this.program=((t,i,s)=>{const n=Q(t,t.VERTEX_SHADER,i),r=Q(t,t.FRAGMENT_SHADER,s),o=t.createProgram();if(t.attachShader(o,n),t.attachShader(o,r),t.linkProgram(o),!t.getProgramParameter(o,t.LINK_STATUS))throw"Linker exception: "+t.getProgramInfoLog(o);return o})(this.gl,i,s)}use(){this.gl.useProgram(this.program)}uniforms(t){for(let i in t){const s=t[i];let n;void 0!==this.uniformLocations[i]?n=this.uniformLocations[i]:(n=this.gl.getUniformLocation(this.program,i),this.uniformLocations[i]=n),null!==n&&("number"==typeof s?this.gl.uniform1f(n,s):s.uniform(n,this.gl))}}getAttribLocation(t){const i=this.gl.getAttribLocation(this.program,t);if(i<0)throw"attribute not found";return i}}class V{constructor(t,i){this.shaders={},this.importExpression=/\/\/\/\s*import "([^"]+)"/g,this.resources=t,this.gl=i}get(t,i){i||(i=t+".frag",t+=".vert");const s=`${t}-${i}`;return s in this.resources||(this.shaders[s]=new B(this.gl,this.getSource(t),this.getSource(i))),this.shaders[s]}getSource(t){const i=this._getSourceName(t),s=this.resources[i];if(null==s)throw new Error(`cant found ${t} Source`);return s.replace(this.importExpression,((t,i)=>this.getSource(i)))}_getSourceName(t){const i=t.split("/");return i[i.length-1]}}const W=[[1.4,0,2.4],[1.4,-.784,2.4],[.784,-1.4,2.4],[0,-1.4,2.4],[1.3375,0,2.53125],[1.3375,-.749,2.53125],[.749,-1.3375,2.53125],[0,-1.3375,2.53125],[1.4375,0,2.53125],[1.4375,-.805,2.53125],[.805,-1.4375,2.53125],[0,-1.4375,2.53125],[1.5,0,2.4],[1.5,-.84,2.4],[.84,-1.5,2.4],[0,-1.5,2.4],[-.784,-1.4,2.4],[-1.4,-.784,2.4],[-1.4,0,2.4],[-.749,-1.3375,2.53125],[-1.3375,-.749,2.53125],[-1.3375,0,2.53125],[-.805,-1.4375,2.53125],[-1.4375,-.805,2.53125],[-1.4375,0,2.53125],[-.84,-1.5,2.4],[-1.5,-.84,2.4],[-1.5,0,2.4],[-1.4,.784,2.4],[-.784,1.4,2.4],[0,1.4,2.4],[-1.3375,.749,2.53125],[-.749,1.3375,2.53125],[0,1.3375,2.53125],[-1.4375,.805,2.53125],[-.805,1.4375,2.53125],[0,1.4375,2.53125],[-1.5,.84,2.4],[-.84,1.5,2.4],[0,1.5,2.4],[.784,1.4,2.4],[1.4,.784,2.4],[.749,1.3375,2.53125],[1.3375,.749,2.53125],[.805,1.4375,2.53125],[1.4375,.805,2.53125],[.84,1.5,2.4],[1.5,.84,2.4],[1.75,0,1.875],[1.75,-.98,1.875],[.98,-1.75,1.875],[0,-1.75,1.875],[2,0,1.35],[2,-1.12,1.35],[1.12,-2,1.35],[0,-2,1.35],[2,0,.9],[2,-1.12,.9],[1.12,-2,.9],[0,-2,.9],[-.98,-1.75,1.875],[-1.75,-.98,1.875],[-1.75,0,1.875],[-1.12,-2,1.35],[-2,-1.12,1.35],[-2,0,1.35],[-1.12,-2,.9],[-2,-1.12,.9],[-2,0,.9],[-1.75,.98,1.875],[-.98,1.75,1.875],[0,1.75,1.875],[-2,1.12,1.35],[-1.12,2,1.35],[0,2,1.35],[-2,1.12,.9],[-1.12,2,.9],[0,2,.9],[.98,1.75,1.875],[1.75,.98,1.875],[1.12,2,1.35],[2,1.12,1.35],[1.12,2,.9],[2,1.12,.9],[2,0,.45],[2,-1.12,.45],[1.12,-2,.45],[0,-2,.45],[1.5,0,.225],[1.5,-.84,.225],[.84,-1.5,.225],[0,-1.5,.225],[1.5,0,.15],[1.5,-.84,.15],[.84,-1.5,.15],[0,-1.5,.15],[-1.12,-2,.45],[-2,-1.12,.45],[-2,0,.45],[-.84,-1.5,.225],[-1.5,-.84,.225],[-1.5,0,.225],[-.84,-1.5,.15],[-1.5,-.84,.15],[-1.5,0,.15],[-2,1.12,.45],[-1.12,2,.45],[0,2,.45],[-1.5,.84,.225],[-.84,1.5,.225],[0,1.5,.225],[-1.5,.84,.15],[-.84,1.5,.15],[0,1.5,.15],[1.12,2,.45],[2,1.12,.45],[.84,1.5,.225],[1.5,.84,.225],[.84,1.5,.15],[1.5,.84,.15],[-1.6,0,2.025],[-1.6,-.3,2.025],[-1.5,-.3,2.25],[-1.5,0,2.25],[-2.3,0,2.025],[-2.3,-.3,2.025],[-2.5,-.3,2.25],[-2.5,0,2.25],[-2.7,0,2.025],[-2.7,-.3,2.025],[-3,-.3,2.25],[-3,0,2.25],[-2.7,0,1.8],[-2.7,-.3,1.8],[-3,-.3,1.8],[-3,0,1.8],[-1.5,.3,2.25],[-1.6,.3,2.025],[-2.5,.3,2.25],[-2.3,.3,2.025],[-3,.3,2.25],[-2.7,.3,2.025],[-3,.3,1.8],[-2.7,.3,1.8],[-2.7,0,1.575],[-2.7,-.3,1.575],[-3,-.3,1.35],[-3,0,1.35],[-2.5,0,1.125],[-2.5,-.3,1.125],[-2.65,-.3,.9375],[-2.65,0,.9375],[-2,-.3,.9],[-1.9,-.3,.6],[-1.9,0,.6],[-3,.3,1.35],[-2.7,.3,1.575],[-2.65,.3,.9375],[-2.5,.3,1.125],[-1.9,.3,.6],[-2,.3,.9],[1.7,0,1.425],[1.7,-.66,1.425],[1.7,-.66,.6],[1.7,0,.6],[2.6,0,1.425],[2.6,-.66,1.425],[3.1,-.66,.825],[3.1,0,.825],[2.3,0,2.1],[2.3,-.25,2.1],[2.4,-.25,2.025],[2.4,0,2.025],[2.7,0,2.4],[2.7,-.25,2.4],[3.3,-.25,2.4],[3.3,0,2.4],[1.7,.66,.6],[1.7,.66,1.425],[3.1,.66,.825],[2.6,.66,1.425],[2.4,.25,2.025],[2.3,.25,2.1],[3.3,.25,2.4],[2.7,.25,2.4],[2.8,0,2.475],[2.8,-.25,2.475],[3.525,-.25,2.49375],[3.525,0,2.49375],[2.9,0,2.475],[2.9,-.15,2.475],[3.45,-.15,2.5125],[3.45,0,2.5125],[2.8,0,2.4],[2.8,-.15,2.4],[3.2,-.15,2.4],[3.2,0,2.4],[3.525,.25,2.49375],[2.8,.25,2.475],[3.45,.15,2.5125],[2.9,.15,2.475],[3.2,.15,2.4],[2.8,.15,2.4],[0,0,3.15],[0,-.002,3.15],[.002,0,3.15],[.8,0,3.15],[.8,-.45,3.15],[.45,-.8,3.15],[0,-.8,3.15],[0,0,2.85],[.2,0,2.7],[.2,-.112,2.7],[.112,-.2,2.7],[0,-.2,2.7],[-.002,0,3.15],[-.45,-.8,3.15],[-.8,-.45,3.15],[-.8,0,3.15],[-.112,-.2,2.7],[-.2,-.112,2.7],[-.2,0,2.7],[0,.002,3.15],[-.8,.45,3.15],[-.45,.8,3.15],[0,.8,3.15],[-.2,.112,2.7],[-.112,.2,2.7],[0,.2,2.7],[.45,.8,3.15],[.8,.45,3.15],[.112,.2,2.7],[.2,.112,2.7],[.4,0,2.55],[.4,-.224,2.55],[.224,-.4,2.55],[0,-.4,2.55],[1.3,0,2.55],[1.3,-.728,2.55],[.728,-1.3,2.55],[0,-1.3,2.55],[1.3,0,2.4],[1.3,-.728,2.4],[.728,-1.3,2.4],[0,-1.3,2.4],[-.224,-.4,2.55],[-.4,-.224,2.55],[-.4,0,2.55],[-.728,-1.3,2.55],[-1.3,-.728,2.55],[-1.3,0,2.55],[-.728,-1.3,2.4],[-1.3,-.728,2.4],[-1.3,0,2.4],[-.4,.224,2.55],[-.224,.4,2.55],[0,.4,2.55],[-1.3,.728,2.55],[-.728,1.3,2.55],[0,1.3,2.55],[-1.3,.728,2.4],[-.728,1.3,2.4],[0,1.3,2.4],[.224,.4,2.55],[.4,.224,2.55],[.728,1.3,2.55],[1.3,.728,2.55],[.728,1.3,2.4],[1.3,.728,2.4],[0,0,0],[1.5,0,.15],[1.5,.84,.15],[.84,1.5,.15],[0,1.5,.15],[1.5,0,.075],[1.5,.84,.075],[.84,1.5,.075],[0,1.5,.075],[1.425,0,0],[1.425,.798,0],[.798,1.425,0],[0,1.425,0],[-.84,1.5,.15],[-1.5,.84,.15],[-1.5,0,.15],[-.84,1.5,.075],[-1.5,.84,.075],[-1.5,0,.075],[-.798,1.425,0],[-1.425,.798,0],[-1.425,0,0],[-1.5,-.84,.15],[-.84,-1.5,.15],[0,-1.5,.15],[-1.5,-.84,.075],[-.84,-1.5,.075],[0,-1.5,.075],[-1.425,-.798,0],[-.798,-1.425,0],[0,-1.425,0],[.84,-1.5,.15],[1.5,-.84,.15],[.84,-1.5,.075],[1.5,-.84,.075],[.798,-1.425,0],[1.425,-.798,0]],H=new Array(32);H[0]=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15],H[1]=[3,16,17,18,7,19,20,21,11,22,23,24,15,25,26,27],H[2]=[18,28,29,30,21,31,32,33,24,34,35,36,27,37,38,39],H[3]=[30,40,41,0,33,42,43,4,36,44,45,8,39,46,47,12],H[4]=[12,13,14,15,48,49,50,51,52,53,54,55,56,57,58,59],H[5]=[15,25,26,27,51,60,61,62,55,63,64,65,59,66,67,68],H[6]=[27,37,38,39,62,69,70,71,65,72,73,74,68,75,76,77],H[7]=[39,46,47,12,71,78,79,48,74,80,81,52,77,82,83,56],H[8]=[56,57,58,59,84,85,86,87,88,89,90,91,92,93,94,95],H[9]=[59,66,67,68,87,96,97,98,91,99,100,101,95,102,103,104],H[10]=[68,75,76,77,98,105,106,107,101,108,109,110,104,111,112,113],H[11]=[77,82,83,56,107,114,115,84,110,116,117,88,113,118,119,92],H[12]=[120,121,122,123,124,125,126,127,128,129,130,131,132,133,134,135],H[13]=[123,136,137,120,127,138,139,124,131,140,141,128,135,142,143,132],H[14]=[132,133,134,135,144,145,146,147,148,149,150,151,68,152,153,154],H[15]=[135,142,143,132,147,155,156,144,151,157,158,148,154,159,160,68],H[16]=[161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176],H[17]=[164,177,178,161,168,179,180,165,172,181,182,169,176,183,184,173],H[18]=[173,174,175,176,185,186,187,188,189,190,191,192,193,194,195,196],H[19]=[176,183,184,173,188,197,198,185,192,199,200,189,196,201,202,193],H[20]=[203,203,203,203,206,207,208,209,210,210,210,210,211,212,213,214],H[21]=[203,203,203,203,209,216,217,218,210,210,210,210,214,219,220,221],H[22]=[203,203,203,203,218,223,224,225,210,210,210,210,221,226,227,228],H[23]=[203,203,203,203,225,229,230,206,210,210,210,210,228,231,232,211],H[24]=[211,212,213,214,233,234,235,236,237,238,239,240,241,242,243,244],H[25]=[214,219,220,221,236,245,246,247,240,248,249,250,244,251,252,253],H[26]=[221,226,227,228,247,254,255,256,250,257,258,259,253,260,261,262],H[27]=[228,231,232,211,256,263,264,233,259,265,266,237,262,267,268,241],H[28]=[269,269,269,269,278,279,280,281,274,275,276,277,270,271,272,273],H[29]=[269,269,269,269,281,288,289,290,277,285,286,287,273,282,283,284],H[30]=[269,269,269,269,290,297,298,299,287,294,295,296,284,291,292,293],H[31]=[269,269,269,269,299,304,305,278,296,302,303,274,293,300,301,270];const J=(t,i,s)=>{if(t.length!==i.length)throw new Error("两个点的维度不同");if(s>1||s<0)throw new Error("插值的范围错误");const n=new Array(t.length);return t.map(((t,r)=>{n[r]=t*s+i[r]*(1-s)})),n},X=t=>{if(4!==t.length)throw new Error("贝塞尔曲线需要四个控制点");const[i,s,n,r]=t,o=new Array(4),e=new Array(4);o[0]=[...i],e[3]=[...r],o[1]=J(i,s,.5),e[2]=J(n,r,.5);const h=J(s,n,.5);return o[2]=J(o[1],h,.5),e[1]=J(e[2],h,.5),o[3]=J(o[2],e[1],.5),e[0]=[...o[3]],[o,e]},_=t=>{const i=new Array(4);for(let t=0;t<4;t++)i[t]=new Array(4);for(let s=0;s<4;s++)for(let n=0;n<4;n++)i[n][s]=t[s][n];return i},$=(t,i)=>{if(i<=0)return K(t);const s=t.map((t=>X(t))),n=s.map((t=>t[0])),r=s.map((t=>t[1]));let o=_(n).map((t=>X(t))),e=_(r).map((t=>X(t)));const h=o.map((t=>t[0])),a=o.map((t=>t[1])),c=e.map((t=>t[0])),l=e.map((t=>t[1]));return $(h,i-1).concat($(a,i-1)).concat($(c,i-1)).concat($(l,i-1))},K=t=>{const i=[];return i.push(t[0][0]),i.push(t[0][3]),i.push(t[3][3]),i.push(t[0][0]),i.push(t[3][3]),i.push(t[3][0]),i};let q=class{constructor(i){t(this,i)}componentDidLoad(){document.querySelector("ion-content").innerHTML="",(()=>{let t,i,s,n,r,o,e=new U;const h=e.getGLRenderContext();function a(){e.render(i,t)}r=new z("./assets/shader/"),r.load(["terrain.vert","terrain.frag","transform.glsl","sunlight.glsl"]),r.setOnRendy((function(){o=new V(r.resources,h);const c=o.get("terrain");t=new D,t.position=new Float32Array([0,10,80]);const l=new E(new Float32Array((()=>{let t=[];for(let i=0;i<32;i++){const s=new Array(4);H[i].map(((t,i)=>{const n=~~(i/4);s[n]||(s[n]=new Array(4)),s[n][i%4]=[W[t][0],W[t][2],W[t][1]]})),t=t.concat($(s,3))}const i=[];return t.map((t=>{t.map((t=>i.push(t)))})),console.log(i),i})()),h);n=new F({position:l});const u=new R([n]);s=new G(c,{sunColor:k([.8,.5,.5]),sunDirection:k(y(new Float32Array([.3,-.6,.2])))},[u]),i=new I,i.append(s),e.setAnimationLoop(a),e.start(),document.querySelector("ion-content").appendChild(e.domElement),((t,i)=>{const s=()=>{t.width=i.viewport.width=600,t.height=i.viewport.height=500};window.addEventListener("resize",s,!1),s()})(e.domElement,i),A.translate(u.wordMatrix,new Float32Array([-5,-5,-5])),A.scale(u.wordMatrix,new Float32Array([10,10,10]))}))})(),this.makeHermiteCurve(),this.makeBezierCurve()}makeHermiteCurve(){const t=[[-200,200],[200,-100],[200,200],[-150,-200]],i=w(p,5,t),s=document.createElement("cy-coordinate");s.width=600,s.height=600,s.curveTitle="Hermite 曲线",s.setControlPoints(t),s.setPoints(i),document.querySelector("ion-content").appendChild(s)}makeBezierCurve(){const t=[[0,0],[0,200],[200,0],[200,200]],i=w(v,5,t),s=document.createElement("cy-coordinate");s.width=600,s.height=600,s.curveTitle="贝塞尔 曲线",s.setControlPoints(t),s.setPoints(i),document.querySelector("ion-content").appendChild(s)}render(){return i("ion-app",null,i("ion-content",null))}get el(){return s(this)}};q.style="ion-content{overflow-y:hidden}";let tt=class{constructor(i){t(this,i),this.curveTitle="Hermite 曲线",this.width=500,this.height=500,this.points=[],this.controlPoints=[]}componentDidLoad(){const t=this.el.querySelector("canvas");t.width=this.width,t.height=this.height,this.ctx=t.getContext("2d")}draw(){this.ctx.clearRect(0,0,this.width,this.height),this.drawCoordinate(this.ctx),this.drawLines(this.ctx,this.points),this.drawPoints(this.ctx,this.controlPoints)}async setPoints(t=[]){this.points=t,this.draw()}async setControlPoints(t=[]){this.controlPoints=t,this.draw()}drawCoordinate(t){t.save(),t.strokeStyle="#fff",t.moveTo(0,this.height/2),t.lineTo(this.width,this.height/2),t.stroke(),t.moveTo(this.width/2,0),t.lineTo(this.width/2,this.height),t.stroke(),t.restore()}drawLines(t,i){if(!i[0])return;t.save(),t.lineWidth=1;const s=[this.width/2,this.height/2];t.moveTo(i[0][0]+s[0],-i[0][1]+s[1]);for(const n of i)t.lineTo(n[0]+s[0],-n[1]+s[1]),t.stroke();t.restore()}drawPoints(t,i){t.save(),t.lineWidth=.5;for(const s of i){t.beginPath();const i=this.getCoordinate(s);t.moveTo(i[0],i[1]),t.arc(i[0],i[1],5,0,2*Math.PI),t.fill(),t.beginPath(),t.strokeText(`(${s[0]} , ${s[1]})`,i[0]-this.width/25,i[1]+this.height/25),t.stroke()}t.restore()}getCoordinate(t){return[t[0]+this.width/2,this.height/2-t[1]]}render(){return i("div",{class:"curve-box"},i("h3",null,this.curveTitle),i("canvas",null))}get el(){return s(this)}};tt.style="cy-coordinate{display:inline-block;margin:5px}.curve-box{display:inline-flex;flex-direction:column;align-items:center}";let it=class{constructor(i){t(this,i)}componentDidLoad(){nt((async()=>{const t=c(window,"hybrid");a.getBoolean("_testing")||import("./p-35331d77.js").then((t=>t.startTapClick(a))),a.getBoolean("statusTap",t)&&import("./p-8cff764e.js").then((t=>t.startStatusTap())),a.getBoolean("inputShims",st())&&import("./p-5514aa89.js").then((t=>t.startInputShims(a)));const i=await import("./p-f2660943.js");a.getBoolean("hardwareBackButton",t)?i.startHardwareBackButton():i.blockHardwareBackButton(),"undefined"!=typeof window&&import("./p-2e4e8117.js").then((t=>t.startKeyboardAssist(window))),import("./p-aef0bba0.js").then((t=>t.startFocusVisible()))}))}render(){const t=h(this);return i(n,{class:{[t]:!0,"ion-page":!0,"force-statusbar-padding":a.getBoolean("_forceStatusbarPadding")}})}get el(){return s(this)}};const st=()=>c(window,"ios")&&c(window,"mobile"),nt=t=>{"requestIdleCallback"in window?window.requestIdleCallback(t):setTimeout(t,32)};it.style="html.plt-mobile ion-app{user-select:none}html.plt-mobile ion-app [contenteditable]{user-select:text}ion-app.force-statusbar-padding{--ion-safe-area-top:20px}";let rt=class{constructor(i){t(this,i),this.ionScrollStart=r(this,"ionScrollStart",7),this.ionScroll=r(this,"ionScroll",7),this.ionScrollEnd=r(this,"ionScrollEnd",7),this.isScrolling=!1,this.lastScroll=0,this.queued=!1,this.cTop=-1,this.cBottom=-1,this.isMainContent=!0,this.detail={scrollTop:0,scrollLeft:0,type:"scroll",event:void 0,startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,data:void 0,isScrolling:!0},this.fullscreen=!1,this.scrollX=!1,this.scrollY=!0,this.scrollEvents=!1}connectedCallback(){this.isMainContent=null===this.el.closest("ion-menu, ion-popover, ion-modal")}disconnectedCallback(){this.onScrollEnd()}onAppLoad(){this.resize()}onClick(t){this.isScrolling&&(t.preventDefault(),t.stopPropagation())}shouldForceOverscroll(){const{forceOverscroll:t}=this,i=h(this);return void 0===t?"ios"===i&&c("ios"):t}resize(){this.fullscreen?o((()=>this.readDimensions())):0===this.cTop&&0===this.cBottom||(this.cTop=this.cBottom=0,e(this))}readDimensions(){const t=ot(this.el),i=Math.max(this.el.offsetTop,0),s=Math.max(t.offsetHeight-i-this.el.offsetHeight,0);(i!==this.cTop||s!==this.cBottom)&&(this.cTop=i,this.cBottom=s,e(this))}onScroll(t){const i=Date.now(),s=!this.isScrolling;this.lastScroll=i,s&&this.onScrollStart(),!this.queued&&this.scrollEvents&&(this.queued=!0,o((i=>{this.queued=!1,this.detail.event=t,et(this.detail,this.scrollEl,i,s),this.ionScroll.emit(this.detail)})))}getScrollElement(){return Promise.resolve(this.scrollEl)}scrollToTop(t=0){return this.scrollToPoint(void 0,0,t)}scrollToBottom(t=0){return this.scrollToPoint(void 0,this.scrollEl.scrollHeight-this.scrollEl.clientHeight,t)}scrollByPoint(t,i,s){return this.scrollToPoint(t+this.scrollEl.scrollLeft,i+this.scrollEl.scrollTop,s)}async scrollToPoint(t,i,s=0){const n=this.scrollEl;if(s<32)return null!=i&&(n.scrollTop=i),void(null!=t&&(n.scrollLeft=t));let r,o=0;const e=new Promise((t=>r=t)),h=n.scrollTop,a=n.scrollLeft,c=null!=i?i-h:0,l=null!=t?t-a:0,u=t=>{const i=Math.min(1,(t-o)/s)-1,e=Math.pow(i,3)+1;0!==c&&(n.scrollTop=Math.floor(e*c+h)),0!==l&&(n.scrollLeft=Math.floor(e*l+a)),e<1?requestAnimationFrame(u):r()};return requestAnimationFrame((t=>{o=t,u(t)})),e}onScrollStart(){this.isScrolling=!0,this.ionScrollStart.emit({isScrolling:!0}),this.watchDog&&clearInterval(this.watchDog),this.watchDog=setInterval((()=>{this.lastScroll<Date.now()-120&&this.onScrollEnd()}),100)}onScrollEnd(){clearInterval(this.watchDog),this.watchDog=null,this.isScrolling&&(this.isScrolling=!1,this.ionScrollEnd.emit({isScrolling:!1}))}render(){const{isMainContent:t,scrollX:s,scrollY:r}=this,o=h(this),e=this.shouldForceOverscroll(),c=t?"main":"div",d="ios"===o&&a.getBoolean("experimentalTransitionShadow",!0);return this.resize(),i(n,{class:l(this.color,{[o]:!0,"content-sizing":u("ion-popover",this.el),overscroll:e}),style:{"--offset-top":`${this.cTop}px`,"--offset-bottom":`${this.cBottom}px`}},i("div",{id:"background-content",part:"background"}),i(c,{class:{"inner-scroll":!0,"scroll-x":s,"scroll-y":r,overscroll:(s||r)&&e},ref:t=>this.scrollEl=t,onScroll:this.scrollEvents?t=>this.onScroll(t):void 0,part:"scroll"},i("slot",null)),d?i("div",{class:"transition-effect"},i("div",{class:"transition-cover"}),i("div",{class:"transition-shadow"})):null,i("slot",{name:"fixed"}))}get el(){return s(this)}};const ot=t=>{const i=t.closest("ion-tabs");if(i)return i;return t.closest("ion-app,ion-page,.ion-page,page-inner")||(t=>t.parentElement?t.parentElement:t.parentNode&&t.parentNode.host?t.parentNode.host:null)(t)},et=(t,i,s,n)=>{const r=t.currentX,o=t.currentY,e=i.scrollLeft,h=i.scrollTop,a=s-t.currentTime;if(n&&(t.startTime=s,t.startX=e,t.startY=h,t.velocityX=t.velocityY=0),t.currentTime=s,t.currentX=t.scrollLeft=e,t.currentY=t.scrollTop=h,t.deltaX=e-t.startX,t.deltaY=h-t.startY,a>0&&a<100){const i=(h-o)/a;t.velocityX=(e-r)/a*.7+.3*t.velocityX,t.velocityY=.7*i+.3*t.velocityY}};rt.style=':host{--background:var(--ion-background-color, #fff);--color:var(--ion-text-color, #000);--padding-top:0px;--padding-bottom:0px;--padding-start:0px;--padding-end:0px;--keyboard-offset:0px;--offset-top:0px;--offset-bottom:0px;--overflow:auto;display:block;position:relative;flex:1;width:100%;height:100%;margin:0 !important;padding:0 !important;font-family:var(--ion-font-family, inherit);contain:size style}:host(.ion-color) .inner-scroll{background:var(--ion-color-base);color:var(--ion-color-contrast)}:host(.outer-content){--background:var(--ion-color-step-50, #f2f2f2)}#background-content{left:0px;right:0px;top:calc(var(--offset-top) * -1);bottom:calc(var(--offset-bottom) * -1);position:absolute;background:var(--background)}.inner-scroll{left:0px;right:0px;top:calc(var(--offset-top) * -1);bottom:calc(var(--offset-bottom) * -1);padding-left:var(--padding-start);padding-right:var(--padding-end);padding-top:calc(var(--padding-top) + var(--offset-top));padding-bottom:calc(var(--padding-bottom) + var(--keyboard-offset) + var(--offset-bottom));position:absolute;color:var(--color);box-sizing:border-box;overflow:hidden}@supports (margin-inline-start: 0) or (-webkit-margin-start: 0){.inner-scroll{padding-left:unset;padding-right:unset;-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end)}}.scroll-y,.scroll-x{-webkit-overflow-scrolling:touch;z-index:0;will-change:scroll-position}.scroll-y{touch-action:pan-y;overflow-y:var(--overflow);overscroll-behavior-y:contain}.scroll-x{touch-action:pan-x;overflow-x:var(--overflow);overscroll-behavior-x:contain}.scroll-x.scroll-y{touch-action:auto}.overscroll::before,.overscroll::after{position:absolute;width:1px;height:1px;content:""}.overscroll::before{bottom:-1px}.overscroll::after{top:-1px}:host(.content-sizing){contain:none}:host(.content-sizing) .inner-scroll{position:relative}.transition-effect{display:none;position:absolute;left:-100%;width:100%;height:100vh;opacity:0;pointer-events:none}.transition-cover{position:absolute;right:0;width:100%;height:100%;background:black;opacity:0.1}.transition-shadow{display:block;position:absolute;right:0;width:10px;height:100%;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAgCAYAAAAIXrg4AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyhpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQ1IDc5LjE2MzQ5OSwgMjAxOC8wOC8xMy0xNjo0MDoyMiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTkgKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MTE3MDgzRkQ5QTkyMTFFOUEwNzQ5MkJFREE1NUY2MjQiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6MTE3MDgzRkU5QTkyMTFFOUEwNzQ5MkJFREE1NUY2MjQiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDoxMTcwODNGQjlBOTIxMUU5QTA3NDkyQkVEQTU1RjYyNCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDoxMTcwODNGQzlBOTIxMUU5QTA3NDkyQkVEQTU1RjYyNCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PmePEuQAAABNSURBVHjaYvz//z8DIxAwMDAwATGMhmFmPDQuOSZks0AMmoJBaQHjkPfB0Lfg/2gQjVow+HPy/yHvg9GiYjQfjMbBqAWjFgy/4hogwADYqwdzxy5BuwAAAABJRU5ErkJggg==);background-repeat:repeat-y;background-size:10px 16px}::slotted([slot=fixed]){position:absolute}';export{q as app_root,tt as cy_coordinate,it as ion_app,rt as ion_content}